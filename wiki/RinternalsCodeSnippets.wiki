#summary Snippets of code that I have found really useful when working with R objects in C
#labels pboot,R,C,RAPI,snippets

= Introduction =

== Evaluating a C string in R == 
{{{
char mystring[] = "sample(10)";
SEXP parsed = eval(lang4(install("parse"),mkString("") , mkString(""),mkString(mystring)),  R_GlobalEnv);
PrintValue(eval(lang2(install("eval"),parsed), R_GlobalEnv));
}}}


== Converting a SEXP object to C string ==
Not sure if this is the best way to do it. Before you pass the object to C you need to deparse it (the deparse function in C works differently to the R function).
`.Call("mycfunc", deparse(data))`

{{{
SEXP mycfunc(SEXP data){
    printf("type %s\n", CHAR(STRING_ELT(data,0)));
}
}}}